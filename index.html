<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Sea Tori ‚Äî –ö–∞—Ñ–µ –∏ —Å—É—à–∏-–±–∞—Ä</title>
<link rel="stylesheet" href="css/style.css" />
</head>
<body>
<header class="header">
    <div class="container">
        <div class="logo">Sea Tori</div>
        <nav class="nav" id="main-nav">
            <a href="menu.html">–ú–µ–Ω—é</a>
            <a href="cart.html">–ö–æ—Ä–∑–∏–Ω–∞</a>
            <a href="profile.html" id="profile-link">–ü—Ä–æ—Ñ–∏–ª—å</a>
        </nav>
        <div class="burger" id="burger-menu">
            <span></span><span></span><span></span>
        </div>
    </div>
</header>
<main class="main fadein-hero">
    <section class="hero">
        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ <span class="accent">Sea Tori</span> <span style="font-size:2.2rem;">üç£üç•</span></h1>

    </section>
    <section class="about-cafe fadein-hero">
        <div class="container">
            <h2>–û –Ω–∞—Å</h2>
            <p>Sea Tori ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∫–∞—Ñ–µ, –≥–¥–µ —Å–æ—á–µ—Ç–∞—é—Ç—Å—è –ª—É—á—à–∏–µ —Ç—Ä–∞–¥–∏—Ü–∏–∏ —è–ø–æ–Ω—Å–∫–æ–π –∫—É—Ö–Ω–∏ –∏ —É—é—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –¥–ª—è –≤—Å—Ç—Ä–µ—á, —Ä–∞–±–æ—Ç—ã –∏ –æ—Ç–¥—ã—Ö–∞. –ú—ã –≥–æ—Ç–æ–≤–∏–º —Ç–æ–ª—å–∫–æ –∏–∑ —Å–≤–µ–∂–∏—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –∏ –∑–∞–±–æ—Ç–∏–º—Å—è –æ –∫–∞–∂–¥–æ–º –≥–æ—Å—Ç–µ!</p>
        </div>
    </section>
    <div class="btn-center" style="margin-top: 18px; margin-bottom: 32px;">
        <a href="menu.html" class="btn btn-primary">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ–Ω—é</a>
    </div>
    <section class="features modern-features">
      <div class="feature-card big-feature">
        <div class="feature-icon" style="font-size:2.5rem;">üç£</div>
        <div class="feature-title">–°–≤–µ–∂–∏–µ —Å—É—à–∏ –∏ —Ä–æ–ª–ª—ã</div>
        <div class="feature-desc">–¢–æ–ª—å–∫–æ –ª—É—á—à–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã.</div>
      </div>
      <div class="feature-card big-feature">
        <div class="feature-icon" style="font-size:2.5rem;">‚òï</div>
        <div class="feature-title">–ê—Ä–æ–º–∞—Ç–Ω—ã–π –∫–æ—Ñ–µ</div>
        <div class="feature-desc">–ê–≤—Ç–æ—Ä—Å–∫–∏–µ –Ω–∞–ø–∏—Ç–∫–∏ –∏ –∫–ª–∞—Å—Å–∏–∫–∞ –¥–ª—è —Ü–µ–Ω–∏—Ç–µ–ª–µ–π –≤–∫—É—Å–∞.</div>
      </div>
      <div class="feature-card big-feature">
        <div class="feature-icon" style="font-size:2.5rem;">üöö</div>
        <div class="feature-title">–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</div>
        <div class="feature-desc">–î–æ—Å—Ç–∞–≤–∏–º –≤–∞—à –∑–∞–∫–∞–∑ –∑–∞ 60 –º–∏–Ω—É—Ç –∏–ª–∏ –±—ã—Å—Ç—Ä–µ–µ.</div>
      </div>
      <div class="feature-card big-feature">
        <div class="feature-icon" style="font-size:2.5rem;">üì±</div>
        <div class="feature-title">–£–¥–æ–±–Ω–æ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞</div>
        <div class="feature-desc">–ü–æ–ª–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.</div>
      </div>
    </section>
</main>
<footer class="footer new-footer">
    <div class="container">
      <div class="footer-main">
        <div class="footer-logo-block">
          <div class="footer-logo">Sea Tori <span style='font-size:1.3em;'>üç£</span></div>
          <div class="footer-desc">–ö–∞—Ñ–µ –∏ —Å—É—à–∏-–±–∞—Ä –≤ —è–ø–æ–Ω—Å–∫–æ–º —Å—Ç–∏–ª–µ.<br>–°–≤–µ–∂–∏–µ –±–ª—é–¥–∞, —É—é—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞.</div>
        </div>
        <div class="footer-contacts-block">
          <div class="footer-contacts-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
          <div class="footer-contacts-list">
            <span>+7 962 376 0505</span>
            <span>seatori@mail.ru</span>
            <span>–≥. –î–µ—Ä–±–µ–Ω—Ç, —É–ª, —ç–º–∏—Ä–≥–∞–º–∑–∞–µ–≤–∞ 42–±/1 </span>
            <span>–ü–Ω-–í—Å: 11:00‚Äì23:00</span>
          </div>
        </div>
        <div class="footer-socials-block">
          <div class="footer-contacts-title">–ú—ã –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö</div>
          <div class="footer-socials">
            <a href="https://t.me/sea_tori" aria-label="Telegram" target="_blank"><img src="img/telegram.svg" alt="Telegram" class="footer-icon"></a>
            <a href="https://instagram.com/sea_tori" aria-label="Instagram" target="_blank"><img src="img/instagram.svg" alt="Instagram" class="footer-icon"></a>
            <a href="https://vk.com/sea_tori" aria-label="VK" target="_blank"><img src="img/vk.svg" alt="VK" class="footer-icon"></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <span>¬© 2025 Sea Tori. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</span>
        <span>–°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é –∫ –Ø–ø–æ–Ω–∏–∏ <span style='font-size:1.1em;'>‚õ©Ô∏è</span></span>
      </div>
    </div>
</footer>
<div id="toast" class="toast"></div>
<div id="menu-import-error" style="color:#e64b4b;text-align:center;margin:18px 0;display:none;">
  –ù–µ —É–¥–∞–ª–æ—Å—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ–Ω—é –∏–∑ menu.html. <button id="import-menu-btn" class="btn btn-secondary">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ menu.html</button>
</div>
<div id="menu-add-btn-wrap" style="text-align:center;margin:18px 0;display:none;">
  <button id="add-menu-item-btn" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
</div>
<script src="js/main.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  // ... —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º ...

  document.querySelectorAll('.menu-item-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const card = this.closest('.menu-item-card');
      const name = card.querySelector('.menu-item-title').textContent;
      // –ù–∞–π—Ç–∏ —Ç–æ–≤–∞—Ä –≤ DB.getMenu() –ø–æ –∏–º–µ–Ω–∏
      const menu = window.DB ? DB.getMenu() : [];
      const item = menu.find(i => i.name === name);
      if (!item) return;
      let cart = DB.getCart();
      const idx = cart.findIndex(i => i.id === item.id);
      if (idx > -1) {
        cart[idx].count = (cart[idx].count || 1) + 1;
      } else {
        cart.push({ ...item, count: 1 });
      }
      DB.setCart(cart);
      // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
      let toast = document.getElementById('toast');
      if (toast) {
        toast.textContent = '–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É!';
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 3200);
      }
    });
  });

  document.getElementById('import-menu-btn')?.addEventListener('click', function() {
    importMenuFromHTML(true);
  });

  document.getElementById('add-menu-item-btn')?.addEventListener('click', function() {
    const menu = getMenu();
    const newItem = { id: 'new_'+Date.now(), name: '–ù–æ–≤–æ–µ –±–ª—é–¥–æ', cat: adminMenuCat, desc: '', price: 0, img: '' };
    menu.push(newItem);
    setMenu(menu);
    renderAdminMenuCards();
  });
});

function importMenuFromHTML(force) {
  if (getMenu().length && !force) return;
  const html = document.createElement('div');
  fetch('menu.html').then(r=>r.text()).then(txt => {
    html.innerHTML = txt;
    const cards = html.querySelectorAll('.menu-item-card');
    const menu = [];
    cards.forEach(card => {
      const name = card.querySelector('.menu-item-title')?.textContent?.trim() || '';
      const cat = card.getAttribute('data-cat') || '';
      const desc = card.querySelector('.menu-item-desc')?.textContent?.trim() || '';
      const priceRaw = card.querySelector('.menu-item-price')?.textContent?.replace(/[^\d]/g,'') || '0';
      const price = parseInt(priceRaw) || 0;
      const img = card.querySelector('img')?.getAttribute('src') || '';
      if (name && cat) menu.push({ id: name+'_'+price, name, cat, desc, price, img });
    });
    setMenu(menu);
    renderAdminMenuCats();
    renderAdminMenuCards();
    document.getElementById('menu-import-error').style.display = 'none';
  }).catch(() => {
    document.getElementById('menu-import-error').style.display = '';
  });
}

function renderAdminMenuCards() {
  const menu = getMenu();
  const cardsWrap = document.getElementById('admin-menu-cards');
  const empty = document.getElementById('menu-empty');
  const addBtnWrap = document.getElementById('menu-add-btn-wrap');
  const filtered = menu.filter(i=>i.cat===adminMenuCat);
  cardsWrap.innerHTML = '';
  if (!filtered.length) {
    empty.style.display = '';
    addBtnWrap.style.display = '';
    return;
  } else {
    empty.style.display = 'none';
    addBtnWrap.style.display = 'none';
  }
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
}
</script>
</body>
</html>